{{/* <!-- Available notice types: warning, info, note, tip. Default: "note" --> */}}
{{- $noticeType := (.Get "type") | default "note" -}}
{{/* <!-- Available icons types: outline, full. Default: "full" --> */}}
{{- $iconType := .Params.iconType | default "full" -}}
{{- $iconType := (default .Params.iconType .Site.Params.iconType) | default "full" -}}
{{/* <!-- Available icons types: feather, full --> */}}
{{- $alertTitle := (.Get "title") | default (i18n $noticeType) -}}
{{/* <!-- Available status: true, false. Default: false --> */}}
{{- $isOpen := (.Get "open") | default false -}}
{{/* <!-- Available icons types: feather, full. Default: "" --> */}}
{{- $alertID := .Get "id" -}}


{{/* <!-- Workaround markdownify inconsistency for single/multiple paragraphs --> */}}
{{- $raw := (markdownify .Inner | chomp) -}}
{{- $block := findRE "(?is)^<(?:address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h(?:1|2|3|4|5|6)|header|hgroup|hr|li|main|nav|noscript|ol|output|p|pre|section|table|tfoot|ul|video)\\b" $raw 1 -}}

<details class="notice {{ $noticeType }}"
  {{- if ($alertID) -}}id="{{- $alertID -}}"{{- end -}}
  {{- if ($isOpen) -}}open{{- end -}}
  >
    <summary accesskey="c" title="(Alt + C)">
      <span class="first notice-title">
        <span class="icon-notice baseline">
          <svg>
            <use href="#{{- $noticeType -}}-notice-{{- $iconType -}}"></use>
          </svg>
        </span>
        {{- $alertTitle -}}
      </span>
    </summary>

    <div class="inner">
    {{- if or $block (not $raw) -}}
      {{ $raw -}}
    {{- else }}
      <p>{{ $raw }}</p>
    {{- end -}}
  </div>
</details>
